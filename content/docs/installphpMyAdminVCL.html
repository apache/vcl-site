<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>


  <link href="/css/vcl.css" rel="stylesheet" type="text/css">
  <link href="/css/code.css" rel="stylesheet" type="text/css">
  <title>Apache VCL - phpMyAdmin Installation &amp; Configuration</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
  <div id="sitetitle">
    <table width="100%" border="0" cellspacing="0" cellpadding="5">
      <tr>
         <td><a href="/index.html"><img src="/img/vcl-logo.png" height="100" align="left" alt="Apache VCL logo"></a></td>
         <td><a href="http://www.apache.org"><img src="/img/asf-logo.png" align="right" alt="Apache Software Foundation logo"></a></td>
      </tr>
    </table>
  </div>
  
  <div id="left-column">
    <div id="navigation">
      <ul>
<li><a href="/index.html">Information</a>
<ul>
<li><a href="/info/features.html">Features</a></li>
<li><a href="/info/architecture.html">Architecture</a></li>
<li><a href="/downloads/download.cgi">Download</a></li>
<li><a href="http://www.apache.org/licenses/">License</a></li>
<li><a href="http://www.apache.org/security/">Security</a></li>
</ul>
</li>
<li><a href="/docs/index.html">Documentation</a>
<ul>
<li><a href="https://cwiki.apache.org/confluence/x/yQdG">Using VCL</a></li>
<li><a href="https://cwiki.apache.org/confluence/x/ywdG">Administration</a></li>
<li><a href="/docs/installation.html">Installation</a></li>
</ul>
</li>
<li><a href="https://cwiki.apache.org/confluence/display/VCL/Apache+VCL" target="_blank">Confluence Wiki</a>
  <ul>
      <li></li>
  </ul>
</li>
<li><a href="https://issues.apache.org/jira/browse/VCL" target="_blank">Jira Issue Tracking</a>
  <ul>
      <li></li>
  </ul>
</li>
<li><a href="/comm/index.html">Community</a>
<ul>
<li><a href="/comm/index.html#getInvolved">Getting Involved</a></li>
<li><a href="/comm/index.html#mail-list">Mailing Lists</a></li>
<li><a href="/dev/index.html">Development</a>
<ul>
<li><a href="/dev/code-documentation.html">Code Documentation</a></li>
<li><a href="/dev/roadmap.html">Roadmap</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://www.apache.org">Apache Software Foundation</a>
<ul>
<li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
<li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
</ul>
</li>
</ul>
    </div>
    <div id="current-event"> 
      <a  href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-125x125.png" alt="Apache current event" />
      </a>
    </div>
  </div>
  
  <div id="content">
    <h1 class="title">phpMyAdmin Installation &amp; Configuration</h1>
    
	<br>
<div class="docnote">
phpMyAdmin is a free and optional tool which allows MySQL or MariaDB to be administered using a web 
browser. It makes administering the VCL database easier. This tool can be installed on 
the VCL web server.
</div>
<ol>
<li>
<p>Install phpMyAdmin via the yum package manager. Tested on clean installs of CentOS, Red Hat versions 6 and 7</p>
<ol>
<li>
<p>phpMyAdmin is in the extras repository, use epel-release package to add this repo</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yum -y install epel-release 
</code></pre></div></li>
<li>
<p>Install phpMyAdmin</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">yum -y install phpMyAdmin
</code></pre></div></li>
<li>
<p>Move the phpMyAdmin directory to the web server directory:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mv /usr/share/phpMyAdmin /var/www/html/phpMyAdmin
</code></pre></div></li>
<li>
<p>Edit /etc/httpd/conf.d/phpMyAdmin.conf with your favorite editor.
Replace the paths created by the yum install, change each
&ldquo;<strong>/usr/share/phpMyAdmin</strong>&rdquo; with <strong>/var/www/html/phpMyAdmin</strong>
or use this sed command</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sed -i <span style="color:#b44">&#34;s|/usr/share/|/var/www/html/|g&#34;</span> /etc/httpd/conf.d/phpMyAdmin.conf
</code></pre></div></li>
</ol>
</li>
</ol>
<ul>
<li>
<p>Follow the latest setup instructions at <a href="http://docs.phpmyadmin.net">http://docs.phpmyadmin.net</a></p>
  <pre class="docnote">

  The "Securing your phpMyAdmin installation" instructions can be followed 
  to secure phpMyAdmin. At a minimum set the MySQL user and password 
  in the config.inc.php file
  Edit /etc/phpMyAdmin/config.inc.php and set the user and password variables to match 
  the LockerWrtUser(typically vcluser) and wrtPass from /etc/vcl/vcld.conf

  $cfg['Servers'][$i]['user']          = 'vcluser';  
  $cfg['Servers'][$i]['password']      = '';  //Use wrtPass from /etc/vcl/vcld.conf
  </pre>
</li>
<li>
<p>How to allow access to phpMyAdmin from other machines. The default server configuration limits
access only to localhost (127.0.0.1). If desired to access from other machines, edit the
server config file to allow other machines, change any lines with 127.0.0.1 to your workstation IP or
a set of known IP addresses.</p>
<p>In your editor, open /etc/httpd/conf.d/phpMyAdmin.conf
Edit the first section, there are two locations that need to change</p>
  <pre class="docnote">
  Under the section labeled:  Directory /var/www/html/phpMyAdmin/
  . . .
  Require ip your_workstation_IP_address
  . . .
  Allow from your_workstation_IP_address
  . . .
  </pre>
</li>
<li>
<p>Restart httpd service and test</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">service httpd restart
</code></pre></div><p>If you receive 403-Forbidden errors after installing phpMyAdmin, the problem is likely caused by SELinux. Run the following command to correct the problem:</p>
  <pre class="docnote">
  chcon -R -t httpd_sys_content_t /var/www/html/phpMyAdmin
  </pre>
</li>
<li>
<p>Optional, Configure the phpMyAdmin-VCL Table relationships:</p>
<p>After following the documentation on creating the phpMyAdmin Linked-tables
infrastructure, you can set up the VCL table relationships. The phpmyadmin.sql file is
provided in the mysql directory in the Apache VCL source code. It will add entries to the
pma_table_info table in the phpmyadmin database. These entries cause corresponding
information to be displayed when you hover over a value in the VCL database.</p>
<p>Import the SQL file into the phpmyadmin database:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mysql phpmyadmin &lt; apache-VCL-2.4/mysql/phpmyadmin.sql
</code></pre></div></li>
</ul>


  </div>
  
  <div id="footer">
    <div class="copyright">
      <p>
        Copyright &copy; 2020 The Apache Software Foundation, Licensed under
        the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
        <br />
        Apache and the Apache feather logo are trademarks of The Apache Software Foundation.
      </p>
    </div>
  </div>
  
</body>
</html>
