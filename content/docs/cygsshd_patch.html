<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>


  <link href="/css/vcl.css" rel="stylesheet" type="text/css">
  <link href="/css/code.css" rel="stylesheet" type="text/css">
  <title>Apache VCL - Cygwin SSHD Service Name Change Patch for VCL 2.5.1</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
  <div id="sitetitle">
    <table width="100%" border="0" cellspacing="0" cellpadding="5">
      <tr>
         <td><a href="/index.html"><img src="/img/vcl-logo.png" height="100" align="left" alt="Apache VCL logo"></a></td>
         <td><a href="http://www.apache.org"><img src="/img/asf-logo.png" align="right" alt="Apache Software Foundation logo"></a></td>
      </tr>
    </table>
  </div>
  
  <div id="left-column">
    <div id="navigation">
      <ul>
<li><a href="/index.html">Information</a>
<ul>
<li><a href="/info/features.html">Features</a></li>
<li><a href="/info/architecture.html">Architecture</a></li>
<li><a href="/downloads/download.cgi">Download</a></li>
<li><a href="http://www.apache.org/licenses/">License</a></li>
<li><a href="http://www.apache.org/security/">Security</a></li>
</ul>
</li>
<li><a href="/docs/index.html">Documentation</a>
<ul>
<li><a href="https://cwiki.apache.org/confluence/x/yQdG">Using VCL</a></li>
<li><a href="https://cwiki.apache.org/confluence/x/ywdG">Administration</a></li>
<li><a href="/docs/installation.html">Installation</a></li>
</ul>
</li>
<li><a href="https://cwiki.apache.org/confluence/display/VCL/Apache+VCL" target="_blank">Confluence Wiki</a>
  <ul>
      <li></li>
  </ul>
</li>
<li><a href="https://issues.apache.org/jira/browse/VCL" target="_blank">Jira Issue Tracking</a>
  <ul>
      <li></li>
  </ul>
</li>
<li><a href="/comm/index.html">Community</a>
<ul>
<li><a href="/comm/index.html#getInvolved">Getting Involved</a></li>
<li><a href="/comm/index.html#mail-list">Mailing Lists</a></li>
<li><a href="/dev/index.html">Development</a>
<ul>
<li><a href="/dev/code-documentation.html">Code Documentation</a></li>
<li><a href="/dev/roadmap.html">Roadmap</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://www.apache.org">Apache Software Foundation</a>
<ul>
<li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
<li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
</ul>
</li>
</ul>
    </div>
    <div id="current-event"> 
      <a  href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-125x125.png" alt="Apache current event" />
      </a>
    </div>
  </div>
  
  <div id="content">
    <h1 class="title">Cygwin SSHD Service Name Change Patch for VCL 2.5.1</h1>
    
	<p>When Microsoft made openssh available as an installable package on Windows, they
used the same service name (sshd) that cygwin had been using for many years. This
caused the Cygwin project to change the name of the sshd service they install from
sshd to cygsshd. VCL 2.5.1 needs a patch applied to handle the service name change.</p>
<h1 id="download-patch">Download Patch</h1>
<p>The patch is available from the ASF distribution servers.</p>
<p><a href="https://dist.apache.org/repos/dist/release/vcl/patches/cygwin_sshd_to_cygsshd/cygwin_sshd_for_2.5.1.patch">Download patch</a>
[ <a href="https://dist.apache.org/repos/dist/release/vcl/patches/cygwin_sshd_to_cygsshd/cygwin_sshd_for_2.5.1.patch.asc">GPG</a> ]
[ <a href="https://dist.apache.org/repos/dist/release/vcl/patches/cygwin_sshd_to_cygsshd/cygwin_sshd_for_2.5.1.patch.sha512">SHA512</a> ]</p>
<h1 id="validate-patch">Validate Patch</h1>
<p>It is essential that you verify the integrity of the patch file using the GPG and
SHA signatures. By verifying the integrity of the patch, you ensure it has not
been tainted.</p>
<p>Run the following command to verify the SHA512 sum. You should get output
similar to &ldquo;cygwin_sshd_for_2.5.1.patch: OK&rdquo;:</p></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sha512sum -c cygwin_sshd_for_2.5.1.patch.sha512
</code></pre></div><p>To verify the GPG signature (you&rsquo;ll need to have <a href="http://www.gnupg.org/">GnuPG</a> installed):</p>
<ol>
<li>
<p>download and import the <a href="https://www.apache.org/dist/vcl/KEYS">VCL KEYS file</a> (if you&rsquo;ve imported the KEYS file for previously,
you do not need to import it again):</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gpg --import KEYS
</code></pre></div></li>
<li>
<p>download the GPG Signature to the same location as the patch file</p>
</li>
<li>
<p>from the directory containing both the release file and the GPG signature, run</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gpg --verify cygwin_sshd_for_2.5.1.patch.asc

</code></pre></div></li>
</ol>
<h1 id="apply-patch">Apply Patch</h1>
<p>The patch is applied to the management node code, which is typically installed to /usr/local/vcl.
The following example assumes the patch was downloaded to /tmp.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#a2f">cd</span> /usr/local/vcl
patch -p2 &lt; /tmp/cygwin_sshd_for_2.5.1.patch
</code></pre></div><p>If it applies correctly, you should see a message similar to</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">patching file bin/cygwin-sshd-config.sh
patching file bin/gen-node-key.sh
patching file lib/VCL/Module/OS/Windows/Version_6/8.pm
patching file lib/VCL/Module/OS/Windows.pm
patching file tools/Windows/Scripts/update_cygwin.cmd
</code></pre></div>

  </div>
  
  <div id="footer">
    <div class="copyright">
      <p>
        Copyright &copy; 2020 The Apache Software Foundation, Licensed under
        the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
        <br />
        Apache and the Apache feather logo are trademarks of The Apache Software Foundation.
      </p>
    </div>
  </div>
  
</body>
</html>
